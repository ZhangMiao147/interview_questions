# 收集的字节跳动的面试题9



https://www.jianshu.com/p/54d2983bea2c

 4、异步消息处理流程，如果发送一个延时消息，messagequeue里面怎么个顺序，messagequeue是个什么数据结构

messageQueue 根据 Message 的剩余时间进行排序。

MessageQueue 是使用链表来存储 Message 的。

 5、广播的种类，注册的方式，以及不同注册方式的生命周期。

广播分为有序广播和无序广播，有序广播是按照广播的优先级将消息进行传递，优先级高的广播可以停止广播的传递，无序广播是按照注册的顺序进行分发广播的。



 6、局部广播和全局广播的区别分别用什么实现的。



 7、activity和service的通信方式

Messager

 8、进程和线程的区别

进程与进程之间的数据是相互独立的，线程与线程之间的是共享的创建进程的资源。

线程由进程进行创建。

 9、并发和并行分别是什么意思，多线程是并发还是并行

并发指的是CPU 是独立的，各用各的。

并行的指公用一个 CPU，轮流抢占 CPU 资源。

多线程是并行。

 10、安卓11有什么新的特性。

 11、HTTPS过程。

第一步，进行证书的验证。

第二步，进行三次握手建立连接。

第三步，进行数据传输。

第四步，四次挥手断开连接。

 12、DNS解析过程，如果服务器ip地址改变了，客户端怎么知道呢

DNS 解析过程是先从本地缓存中读取，本地缓存没有从本地浏览器读取，没有从 hosts 文件中读取，如果还是没有从局域网缓存中读取，没有就向服务商请求。

 13、算法：二叉树的右视图。

 

 二面

 

 1、介绍一下所有的map，以及他们之间的对比，适用场景。

HashMap：使用数组+链表实现的哈希表。使用于普通的场景。

TreeMap：使用红黑树实现的哈希表。如果数据量比较大，并且查找频繁，则使用。

LinkedHashMap：有序的哈希表。使用有顺序要求，则使用 LinkedHashMap。

HashTable：同步

ConcurrentHashMap：同步，分段锁

 2、一个按钮，手抖了连续点了两次，会跳转两次页面，怎么让这种情况不发生。

https://www.jianshu.com/p/dc63a4b636fa

按钮点击后就设置 enable 为 false。

根据上一次点击的时间，计算两次点击的时间间隔，时间间隔太小，就不响应。

页面的 Activity 设置为 singTop 启动模式。

 3、一个商品页一个商详页，点击商详页的一个关注按钮，希望回- 到商品页也能够显示关注的状态，怎么做

setResult()

在商品详情页点击关注就会提交关注数据到服务端。

在回到商品页的时候使用 setResult() 方法将罐装的信息传递给商品页。

 4、项目中定时为什么用AlarmManager，不用postDelayed

 5、项目中后台网络请求为什么用service不用线程

Service 有生命周期的控制，方便开启和关闭。

线程开启后，无法及时控制。

 6、安卓的新特性。

 7、内部类会有内存泄漏问题吗 内部类为什么能访问外部类的变量，为什么还能访问外部类的私有变量。

内部类会持有外部类的一个对象引用，所以内部类能访问外部类的变量。

创建内部类的时候会将外部类的私有变量作为构造函数的参数传递给内部类。

 8、算法: 单链表判断有无环。

 

 三面

 

 1、介绍项目用到了contentprovider,然后问ContentProvider的生命周期，application,activity，service,contentprovider他们的 context有什么区别。

ContentProvider 有 onCreate()、insert()、delete()、notify() 、update() 生命周期方法。

Application 的 context 的生命周期是最长的，和应用的生命周期一样长。

activity 的 context 的生命周期随 Activity 的创建和销毁变化。

 2、内存溢出和内存泄漏，提到了bitmap



 3、然后问下载一个图片的时候直接下载了一个5g的图片，不压缩一定会产生OOM问题，那么怎么去获取这个图片的长宽呢，或者说这个图片的大小的大小在你没下载之前如何得到。

图片的大小是 5g，然后看图片的格式是什么，判断出图片的一个像素是多大，然后就可以得到图片的像素大小。





